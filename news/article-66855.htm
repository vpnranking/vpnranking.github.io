<!DOCTYPE html>
<html xml:lang="zh-CN" lang="zh-CN">

<head>
        <link rel="canonical" href="https://vpnranking.github.io/news/article-66855.htm" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Spring 源码（9）Spring Bean的创建过程的前期准备_在线工具</title>
        <meta name="description" content="回顾总结 到目前为止，Spring源码中AbstractApplicationContext#refresh方法的已经解读到第11个方法finishBeanFactoryInitialization," />
        <link rel="icon" href="/assets/website/img/clashmihomo/favicon.ico" type="image/x-icon"/>

    <meta name="author" content="推荐免费VPN排名 订阅机场节点中文网">
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://vpnranking.github.io/news/article-66855.htm" />
    <meta property="og:site_name" content="推荐免费VPN排名 订阅机场节点中文网" />
    <meta property="og:title" content="Spring 源码（9）Spring Bean的创建过程的前期准备_在线工具" />
    <meta property="og:image" content="https://vpnranking.github.io/uploads/20240920-1/81872b5860ec108c15419f4fedba1ab1.webp" />
        <meta property="og:release_date" content="2025-03-04T10:13:15" />
    <meta property="og:updated_time" content="2025-03-04T10:13:15" />
        <meta property="og:description" content="回顾总结 到目前为止，Spring源码中AbstractApplicationContext#refresh方法的已经解读到第11个方法finishBeanFactoryInitialization," />
        
    <!-- fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/assets/website/js/frontend/clashmihomo/bootstrap/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/assets/website/js/frontend/clashmihomo/animate/animate.min.css" />
    <link rel="stylesheet" href="/assets/website/js/frontend/clashmihomo/fontawesome/css/all.min.css" />
    <link rel="stylesheet" href="/assets/website/js/frontend/clashmihomo/jarallax/jarallax.css" />
    <link rel="stylesheet" href="/assets/website/js/frontend/clashmihomo/jquery-magnific-popup/jquery.magnific-popup.css" />
    <link rel="stylesheet" href="/assets/website/js/frontend/clashmihomo/nouislider/nouislider.min.css" />
    <link rel="stylesheet" href="/assets/website/js/frontend/clashmihomo/nouislider/nouislider.pips.css" />
    <link rel="stylesheet" href="/assets/website/js/frontend/clashmihomo/odometer/odometer.min.css" />
    <link rel="stylesheet" href="/assets/website/js/frontend/clashmihomo/swiper/swiper.min.css" />
    <link rel="stylesheet" href="/assets/website/js/frontend/clashmihomo/kitecx-icons/style.css">
    <link rel="stylesheet" href="/assets/website/js/frontend/clashmihomo/tiny-slider/tiny-slider.min.css" />
    <link rel="stylesheet" href="/assets/website/js/frontend/clashmihomo/reey-font/stylesheet.css" />
    <link rel="stylesheet" href="/assets/website/js/frontend/clashmihomo/owl-carousel/owl.carousel.min.css" />
    <link rel="stylesheet" href="/assets/website/js/frontend/clashmihomo/owl-carousel/owl.theme.default.min.css" />
    <link rel="stylesheet" href="/assets/website/js/frontend/clashmihomo/twentytwenty/twentytwenty.css" />
    <!-- template styles -->
    <link rel="stylesheet" href="/assets/website/css/clashmihomo/kitecx.css" />
    <link rel="stylesheet" href="/assets/website/css/clashmihomo/kitecx-responsive.css" />

    <meta name="applicable-device" content="pc,mobile" />
    <meta name="renderer" content="webkit" />
    <meta name="force-rendering" content="webkit" />
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta name="robots" content="max-image-preview:large" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Spring 源码（9）Spring Bean的创建过程的前期准备_在线工具">
    <meta name="format-detection" content="telephone=no">

    <link rel="dns-prefetch" href="https:/www.googletagmanager.com">
    <link rel="dns-prefetch" href="https://www.googleadservices.com">
    <link rel="dns-prefetch" href="https://www.google-analytics.com">
    <link rel="dns-prefetch" href="https://pagead2.googlesyndication.com">
    <link rel="dns-prefetch" href="https://cm.g.doubleclick.net">
    
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-NTDMVXZVYN"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-NTDMVXZVYN');
</script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3332997411212854"
     crossorigin="anonymous"></script>
</head>

<body data-page="detail">
    <div class="preloader">
        <img class="preloader__image" width="60" src="assets/images/loader.png" alt="" />
    </div>
    <!-- /.preloader -->
    <div class="page-wrapper">
                <header class="main-header clearfix">
            <div class="container">
                <div class="main-menu-wrapper">
                    <div class="main-header__logo">
                                                <a href="/">
                            <span>推荐免费VPN排名</span>
                        </a>
                                            </div>
                    <div class="main-menu-wrapper__bottom">
                        <nav class="main-menu">
                            <div class="main-menu__inner">
                                <a href="#" class="mobile-nav__toggler"><i class="fa fa-bars"></i></a>
                                <ul class="main-menu__list">
                                                                        <li><a href="/">首页</a></li>
                                                                        <li><a href="/free-nodes/">免费节点</a></li>
                                                                        <li><a href="/paid-subscribe/">推荐机场</a></li>
                                                                        <li><a href="/news/">新闻资讯</a></li>
                                                                        <li><a href="/client.htm">客户端</a></li>
                                                                    </ul>
                                
                            </div>
                        </nav>
                    </div>
                </div>
            </div>
        </header>
        <div class="stricky-header stricked-menu main-menu">
            <div class="sticky-header__content"></div><!-- /.sticky-header__content -->
        </div><!-- /.stricky-header -->
        <!--Page Header Start-->
        <section class="page-header" style="background-image: url(/assets/website/img/clashmihomo/backgrounds/page-header-bg.jpg);">
            <div class="page-header-border"></div>
            <div class="page-header-border page-header-border-two"></div>
            <div class="page-header-border page-header-border-three"></div>
            <div class="page-header-border page-header-border-four"></div>
            <div class="page-header-border page-header-border-five"></div>
            <div class="page-header-border page-header-border-six"></div>
            <div class="container">
                <div class="page-header__inner">
                    <h1>Spring 源码（9）Spring Bean的创建过程的前期准备_在线工具</h1>
                    <ul class="thm-breadcrumb list-unstyled">
                        <li><a href="/">首页</a></li>
                        <li><span>/</span></li>
                        <li><a href="/news/">新闻资讯</a></li>
                        <li><span>/</span></li>
                        <li>正文</li>
                    </ul>
                </div>
            </div>
        </section>
        <!--Page Header End-->
        <!--Welcome One Start-->
        <section class="welcome-one py-5">
            <div class="container">
                <div class="row">
                    <div class="col-md-9">
                                        <input type="hidden" id="share-website-info" data-name="Clash Meta免费节点订阅站" data-url="https://clash-meta.github.io">
                  				  				  				<h3 id="回顾总结">回顾总结</h3> <p>到目前为止，<code>Spring</code>源码中<code>AbstractApplicationContext#refresh</code>方法的已经解读到第11个方法<code>finishBeanFactoryInitialization</code>,前10个方法介绍了：</p> <ul> <li> <code>BeanFactory</code>的准备，创建，刷新，个性化<code>BeanFactory</code>的扩展点，自定义属性解析；</li> <li>环境信息<code>Environment</code>的加载（包括环境变量、系统变量等）；</li> <li> <code>BeanDefinition</code>的加载，解析，自定义<code>xml</code>的方式；</li> <li> <code>BeanFactoryPostProcessor</code>的注册与执行流程，<code>BeanDefinitionRegistryPostProcessor</code>的解析，<code>ConfigurationClassPostProcessor</code>对<code>Spring</code>注解的解析过程（<code>@Component、@PropertySources、@PropertySource、@ComponentScans、@ComponentScan、@Import</code>等注解的解析），<code>Spring Boot</code> 是如何通过<code>@Configuration+@Import + ImportSelector</code>进行自动装配的等；</li> <li> <code>BeanPostProcessor</code>的注册流程；</li> <li>国际化，<code>Spring</code>事件驱动的加载执行过程；</li> </ul> <h3 id="finishbeanfactoryinitialization-解析过程">finishBeanFactoryInitialization 解析过程</h3> <p>接下来开始解析<code>Spring</code>对<code>Bean</code>的创建过程，上源码：</p> <pre><code class="language-java">protected void finishBeanFactoryInitialization(ConfigurableListableBeanFactory beanFactory) {   // Initialize conversion service for this context.   if (beanFactory.containsBean(CONVERSION_SERVICE_BEAN_NAME) &amp;&amp;       beanFactory.isTypeMatch(CONVERSION_SERVICE_BEAN_NAME, ConversionService.class)) {     // 设置转换服务，转换服务用来对属性值进行解析的     beanFactory.setConversionService(       beanFactory.getBean(CONVERSION_SERVICE_BEAN_NAME, ConversionService.class));   }    // Register a default embedded value resolver if no BeanFactoryPostProcessor   // (such as a PropertySourcesPlaceholderConfigurer bean) registered any before:   // at this point, primarily for resolution in annotation attribute values.   // 如果之前没有注册过任何 BeanFactoryPostProcessor（例如 PropertySourcesPlaceholderConfigurer bean），   // 则注册一个默认的嵌入值解析器：此时，主要用于解析注释属性值。   if (!beanFactory.hasEmbeddedValueResolver()) {     beanFactory.addEmbeddedValueResolver(strVal -&gt; getEnvironment().resolvePlaceholders(strVal));   }    // Initialize LoadTimeWeaverAware beans early to allow for registering their transformers early.   String[] weaverAwareNames = beanFactory.getBeanNamesForType(LoadTimeWeaverAware.class, false, false);   for (String weaverAwareName : weaverAwareNames) {     getBean(weaverAwareName);   }    // Stop using the temporary ClassLoader for type matching.   beanFactory.setTempClassLoader(null);    // Allow for caching all bean definition metadata, not expecting further changes.   // 允许缓存所有 bean 定义元数据，而不是期望进一步的更改   beanFactory.freezeConfiguration();    // Instantiate all remaining (non-lazy-init) singletons.   // 实例化所有剩余的（非惰性初始化）单例   beanFactory.preInstantiateSingletons(); } </code></pre> <ul> <li>判断是否存在转换服务，有就设置</li> <li>判断是否有内置的值解析器，没有就创建一个处理占位符的解析器</li> <li>实例化LoadTimeWeaverAware，进行早期的Bean的创建</li> <li>停止使用临时的类加载器</li> <li>冻结BeanDefinition的元数据信息，防止被修改</li> <li>开始实例化所有的单例bean对象</li> </ul> <p>除了<code>beanFactory.preInstantiateSingletons()</code> 方法，其他都是<code>Bean</code>创建的准备，接下来一个一个分析，首先是转换服务的设置。</p> <h3 id="转换服务conversionservice的初始化">转换服务ConversionService的初始化</h3> <p>方法一开始设置了一个转换服务，这个转换服务在<code>Spring</code>中还是非常的重要的，比如我们<code>xml</code>中配置一个<code>String</code> 类型的属性值，但是在<code>Bean</code>的定义中是一个<code>Integer</code>类型的，这时<code>Spring</code>就会自动帮我们转出来，他是怎么做的呢？</p> <p>在<code>Spring</code>中有几个比较重要的接口:</p> <ul> <li> <code>Converer</code> 用于将对象<code>S</code>转换为对象<code>T</code> </li> <li> <code>ConverterFactory</code> 一个转换工厂，能够将对象<code>S</code>转成一类对象<code>R</code>的子集<code>T</code>，比如可以将字符串<code>S</code>转换为<code>T</code>（<code>Integer、Long</code>等）<code>Number</code>类型<code>R</code>的子集</li> <li> <code>GenericConverter</code>支持多种类型之间互相转换。</li> </ul> <p><code>Spring</code>转换器接口<code>ConversionService</code> 的默认实现是<code>DefaultConversionService</code>,这个默认的转换器实现中，内置了很多的转换器，比如：</p> <pre><code class="language-java">public static void addDefaultConverters(ConverterRegistry converterRegistry) {   addScalarConverters(converterRegistry);   addCollectionConverters(converterRegistry);    converterRegistry.addConverter(new ByteBufferConverter((ConversionService) converterRegistry));   converterRegistry.addConverter(new StringToTimeZoneConverter());   converterRegistry.addConverter(new ZoneIdToTimeZoneConverter());   converterRegistry.addConverter(new ZonedDateTimeToCalendarConverter());    converterRegistry.addConverter(new ObjectToObjectConverter());   converterRegistry.addConverter(new IdToEntityConverter((ConversionService) converterRegistry));   converterRegistry.addConverter(new FallbackObjectToStringConverter());   converterRegistry.addConverter(new ObjectToOptionalConverter((ConversionService) converterRegistry)); }  public static void addCollectionConverters(ConverterRegistry converterRegistry) {   ConversionService conversionService = (ConversionService) converterRegistry;   // 数组转集合   converterRegistry.addConverter(new ArrayToCollectionConverter(conversionService));   // 集合转数组   converterRegistry.addConverter(new CollectionToArrayConverter(conversionService));    converterRegistry.addConverter(new ArrayToArrayConverter(conversionService));   converterRegistry.addConverter(new CollectionToCollectionConverter(conversionService));   converterRegistry.addConverter(new MapToMapConverter(conversionService));   // 数组转字符串   converterRegistry.addConverter(new ArrayToStringConverter(conversionService));   converterRegistry.addConverter(new StringToArrayConverter(conversionService));    converterRegistry.addConverter(new ArrayToObjectConverter(conversionService));   converterRegistry.addConverter(new ObjectToArrayConverter(conversionService));    converterRegistry.addConverter(new CollectionToStringConverter(conversionService));   converterRegistry.addConverter(new StringToCollectionConverter(conversionService));    converterRegistry.addConverter(new CollectionToObjectConverter(conversionService));   converterRegistry.addConverter(new ObjectToCollectionConverter(conversionService));    converterRegistry.addConverter(new StreamConverter(conversionService)); }  private static void addScalarConverters(ConverterRegistry converterRegistry) {   converterRegistry.addConverterFactory(new NumberToNumberConverterFactory());    converterRegistry.addConverterFactory(new StringToNumberConverterFactory());   converterRegistry.addConverter(Number.class, String.class, new ObjectToStringConverter());    converterRegistry.addConverter(new StringToCharacterConverter());   converterRegistry.addConverter(Character.class, String.class, new ObjectToStringConverter());    converterRegistry.addConverter(new NumberToCharacterConverter());   converterRegistry.addConverterFactory(new CharacterToNumberFactory());    converterRegistry.addConverter(new StringToBooleanConverter());   converterRegistry.addConverter(Boolean.class, String.class, new ObjectToStringConverter());    converterRegistry.addConverterFactory(new StringToEnumConverterFactory());   converterRegistry.addConverter(new EnumToStringConverter((ConversionService) converterRegistry));    converterRegistry.addConverterFactory(new IntegerToEnumConverterFactory());   converterRegistry.addConverter(new EnumToIntegerConverter((ConversionService) converterRegistry));    converterRegistry.addConverter(new StringToLocaleConverter());   converterRegistry.addConverter(Locale.class, String.class, new ObjectToStringConverter());    converterRegistry.addConverter(new StringToCharsetConverter());   converterRegistry.addConverter(Charset.class, String.class, new ObjectToStringConverter());    converterRegistry.addConverter(new StringToCurrencyConverter());   converterRegistry.addConverter(Currency.class, String.class, new ObjectToStringConverter());    converterRegistry.addConverter(new StringToPropertiesConverter());   converterRegistry.addConverter(new PropertiesToStringConverter());    converterRegistry.addConverter(new StringToUUIDConverter());   converterRegistry.addConverter(UUID.class, String.class, new ObjectToStringConverter()); } </code></pre> <p>可以说是非常的丰富的，基本上常见都是Spring提供了，非常贴心。</p> <p>那么怎么使用呢？</p> <p>不懂当然是上官网：<a href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#core-convert"  target="_blank"  rel="nofollow">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#core-convert</a> ，这里可以看到我们只需要将<code>ConversionServiceFactoryBean</code> 配置到Spring容器中就可以了，<code>Spring</code>内置的转换器就可以工作了，非常方便。</p> <p><code>ConversionServiceFactoryBean</code>实现了<code>FactoryBean</code>接口和<code>InitializingBean</code> 接口，而<code>InitializingBean#afterPropertiesSet</code>是初始化<code>Bean</code>过程中需要执行的。<code>ConversionServiceFactoryBean</code>源码中：</p> <pre><code class="language-java">@Override public void afterPropertiesSet() {   this.conversionService = createConversionService();   ConversionServiceFactory.registerConverters(this.converters, this.conversionService); }  protected GenericConversionService createConversionService() {   return new DefaultConversionService(); }  // 构造函数 public DefaultConversionService() {   // 添加默认的转换器   addDefaultConverters(this); } </code></pre> <p>可以看到这个<code>ConversionServiceFactroyBean</code>就是用来初始化转换器的，并且这个类还提供了扩展，可以自定义转换器加入到转换器集合中。</p> <p><img decoding="async" src="http://img.555519.xyz/uploads3/20220507/142a03309c504ae1f5194c482d30cc20.jpg" alt="Spring 源码（9）Spring Bean的创建过程的前期准备_在线工具"></p> <h3 id="自定义转换器">自定义转换器</h3> <p>自定义String转Integer类型的转换器：</p> <pre><code class="language-java">/**  * @author &lt;a href="https://www.cnblogs.com/redwinter/"&gt;redwinter&lt;/a&gt;  * @since 1.0  **/ public class StringToIntegerConverter implements Converter&lt;String,Integer&gt; , ConditionalConverter { 	@Override 	public Integer convert(String source) { 		return NumberUtils.parseNumber(source,Integer.class); 	}  	@Override 	public boolean matches(TypeDescriptor sourceType, TypeDescriptor targetType) { 		System.out.println(sourceType.getType()); 		System.out.println(targetType.getType()); 		return true; 	} } </code></pre> <p>逻辑非常简单，直接调用<code>Spring</code>提供的工具类进行转换。</p> <p>配置xml：</p> <pre><code class="language-xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;beans xmlns="http://www.springframework.org/schema/beans" 	   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 	   xmlns:context="http://www.springframework.org/schema/context" 	   xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd"&gt;  	&lt;context:component-scan base-package="com.redwinter.selfconverter"/&gt; 	&lt;!--配置转化器--&gt; 	&lt;bean class="org.springframework.context.support.ConversionServiceFactoryBean"&gt; 		&lt;property name="converters"&gt; 			&lt;set&gt; 				&lt;bean class="com.redwinter.selfconverter.StringToIntegerConverter"/&gt; 			&lt;/set&gt; 		&lt;/property&gt; 	&lt;/bean&gt;  &lt;/beans&gt; </code></pre> <p>创建转换器客户端：</p> <pre><code class="language-java">/**  * @author &lt;a href="https://www.cnblogs.com/redwinter/"&gt;redwinter&lt;/a&gt;  * @since 1.0  **/ @Service public class MyConverter {  	private final ConversionService conversionService;  	public MyConverter(ConversionService conversionService) { 		this.conversionService = conversionService; 	}  	public void test(String source){ 		System.out.println(conversionService.convert(source, Integer.class)); 	} } </code></pre> <p>创建测试：</p> <pre><code class="language-java">/**  * @author &lt;a href="2360564660@qq.com"&gt;redwinter&lt;/a&gt;  * @since 1.0  **/ public class FactoryBeanTest {  	@Test 	public void test(){ 		MyClassPathXmlApplicationContext context = new MyClassPathXmlApplicationContext("spring-factory.xml"); 		MyConverter myConverter = context.getBean(MyConverter.class); 		myConverter.test("12345"); 	} } </code></pre> <p>输出：</p> <pre><code class="language-tex">class java.lang.String class java.lang.Integer 12345 </code></pre> <p>分析完转换服务，接下来分析 值解析器的添加。</p> <h3 id="默认的值解析器">默认的值解析器</h3> <pre><code class="language-java">// 省略代码..... // Register a default embedded value resolver if no BeanFactoryPostProcessor // (such as a PropertySourcesPlaceholderConfigurer bean) registered any before: // at this point, primarily for resolution in annotation attribute values. // 如果之前没有注册过任何 BeanFactoryPostProcessor（例如 PropertySourcesPlaceholderConfigurer bean）， // 则注册一个默认的嵌入值解析器：此时，主要用于解析注释属性值。 if (!beanFactory.hasEmbeddedValueResolver()) {   beanFactory.addEmbeddedValueResolver(strVal -&gt; getEnvironment().resolvePlaceholders(strVal)); } // 省略代码.....   </code></pre> <p>首先判断了容器中是否存在嵌入的值解析器，如果没有就添加一个进去，这里添加进去的是<code>StringValueResolver</code>，点击<code>resolvePlaceHolders</code>方法进去，最终会在<code>AbstractPropertyResolver#resolvePlaceholders</code>中创建一个<code>PropertyPlaceholderHelper</code>类</p> <pre><code class="language-java">private PropertyPlaceholderHelper createPlaceholderHelper(boolean ignoreUnresolvablePlaceholders) {   // 前缀为 ${ ，后缀为 }，值的分隔符为 : ,比如 ${username:zhansan} username没有的话，后面的为默认的值   return new PropertyPlaceholderHelper(this.placeholderPrefix, this.placeholderSuffix,                                        this.valueSeparator, ignoreUnresolvablePlaceholders); } </code></pre> <p>如果已经注册过一个<code>BFPP</code>的占位符解析器的话，就不需要在注册了，<code>BFPP</code>的占位符解析器就是<code>PropertySourcesPlaceholderConfigurer</code> ，专门用于解析占位符的，比如在<code>xml</code>中或者<code>yaml</code>中，配置类似于<code>${jdbc.username}</code> 这种格式的，就会被解析器解析。<code>PropertySourcesPlaceholderConfigurer</code>  这个解析器实现了<code>BeanFactoryPostProcessor</code>接口，能够对<code>BeanDefinition</code>进行处理，当然也可以对属性值进行处理。</p> <p>分析完值解析器，继续往下分析。</p> <h3 id="bean创建前的其他准备">Bean创建前的其他准备</h3> <pre><code class="language-java">// 省略代码..... // Initialize LoadTimeWeaverAware beans early to allow for registering their transformers early. // 在prepareBeanFactory 准备BeanFactory时设置进去的，如果存在，则开始早期Bean的创建 String[] weaverAwareNames = beanFactory.getBeanNamesForType(LoadTimeWeaverAware.class, false, false); for (String weaverAwareName : weaverAwareNames) {   getBean(weaverAwareName); }  // Stop using the temporary ClassLoader for type matching. // 停止使用临时的类加载器，这里也是在准备BeanFactory时设置进去的 beanFactory.setTempClassLoader(null);  // Allow for caching all bean definition metadata, not expecting further changes. // 允许缓存所有 bean 定义元数据，而不是期望进一步的更改 beanFactory.freezeConfiguration(); // 省略代码..... </code></pre> <p>这里从容器中获取了<code>AOP</code>的织入，如果有的话就开始进行早期的<code>Bean</code>的创建；然后停止了临时的类加载器；然后就是冻结<code>BeanDefinition</code>的元数据信息。</p> <pre><code class="language-java">public void freezeConfiguration() {   this.configurationFrozen = true;   this.frozenBeanDefinitionNames = StringUtils.toStringArray(this.beanDefinitionNames); } </code></pre> <p>点击进来，其实就是设置了标识，防止后期对<code>BeanDefinition</code>的修改。</p> <p>这前面的几个判断和方法实际上都是<code>Bean</code>创建的准备工作，接下来开始分析<code>preInstantiateSingletons</code> 预实例化所有的单例<code>Bean</code>。</p> 			                <div class="clearfix"></div>
                <div class="col-md-12 mt-5">
                                        <p>上一个：<a href="/news/article-66218.htm">动物医院的英语怎么写单词 动物医院的英语怎么写单词怎么读</a></p>
                                        <p>下一个：<a href="/news/article-66856.htm">狗粮加工设备及配方赚钱吗（狗粮加工厂需要投资多少钱）</a></p>
                                    </div>
                                    </div>
                    <div class="col-md-3">
                        <div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">热门文章</h3>
    </div>
    <div class="panel-body">
        <ul class="p-0 x-0" style="list-style: none;margin: 0;padding: 0;">
                        <li class="py-2"><a href="/news/article-66856.htm" title="狗粮加工设备及配方赚钱吗（狗粮加工厂需要投资多少钱）">狗粮加工设备及配方赚钱吗（狗粮加工厂需要投资多少钱）</a></li>
                        <li class="py-2"><a href="/news/article-64906.htm" title="宠物食品公司生产招聘（宠物食品厂家招聘业务员）">宠物食品公司生产招聘（宠物食品厂家招聘业务员）</a></li>
                        <li class="py-2"><a href="/free-nodes/2025-3-2-free-node-subscribe.htm" title="推荐免费VPN排名 | 3月2日19.5M/S|免费SSR/V2ray/Shadowrocket/Clash免费节点订阅分享">推荐免费VPN排名 | 3月2日19.5M/S|免费SSR/V2ray/Shadowrocket/Clash免费节点订阅分享</a></li>
                        <li class="py-2"><a href="/free-nodes/2025-3-4-node-share-links.htm" title="推荐免费VPN排名 | 3月4日21.6M/S|免费Clash/V2ray/SSR/Shadowrocket免费节点订阅分享">推荐免费VPN排名 | 3月4日21.6M/S|免费Clash/V2ray/SSR/Shadowrocket免费节点订阅分享</a></li>
                        <li class="py-2"><a href="/news/article-65588.htm" title="宠物打疫苗后被咬还会得病吗（宠物打疫苗之后咬人怎么办）">宠物打疫苗后被咬还会得病吗（宠物打疫苗之后咬人怎么办）</a></li>
                        <li class="py-2"><a href="/free-nodes/2025-3-1-node-share.htm" title="推荐免费VPN排名 | 3月1日21.8M/S|免费Clash/SSR/Shadowrocket/V2ray免费节点订阅分享">推荐免费VPN排名 | 3月1日21.8M/S|免费Clash/SSR/Shadowrocket/V2ray免费节点订阅分享</a></li>
                        <li class="py-2"><a href="/news/article-66217.htm" title="东北农大动物医院（东北农大动物医院电话号码）">东北农大动物医院（东北农大动物医院电话号码）</a></li>
                        <li class="py-2"><a href="/news/article-64974.htm" title="进程,内核线程,用户线程,协程,纤程&#8230;&#8230;操作系统世界观">进程,内核线程,用户线程,协程,纤程&#8230;&#8230;操作系统世界观</a></li>
                        <li class="py-2"><a href="/free-nodes/2025-3-3-free-v2ray-subscribe.htm" title="推荐免费VPN排名 | 3月3日19.9M/S|免费SSR/Clash/Shadowrocket/V2ray免费节点订阅分享">推荐免费VPN排名 | 3月3日19.9M/S|免费SSR/Clash/Shadowrocket/V2ray免费节点订阅分享</a></li>
                        <li class="py-2"><a href="/news/article-64905.htm" title="动物疫苗多少钱一支啊图片高清视频下载（动物疫苗新规）">动物疫苗多少钱一支啊图片高清视频下载（动物疫苗新规）</a></li>
                    </ul>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">归纳</h3>
    </div>
    <div class="panel-body">
        <ul class="p-0 x-0" style="list-style: none;margin: 0;padding: 0;">
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">11</span> <a href="/date/2025-03/" title="2025-03 归档">2025-03</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">3</span> <a href="/date/2025-02/" title="2025-02 归档">2025-02</a></h4>
            </li>
                    </ul>
    </div>
</div>

                    </div>
                </div>
            </div>
        </section>
        <!--Welcome One End-->
    </div><!-- /.page-wrapper -->
        <footer class="site-footer">
        <div class="site-footer-bottom">
            <div class="container">
                <div class="row">
                    <div class="col-xl-12">
                        <div class="site-footer-bottom__inner">
                            <div class="site-footer-bottom__left">
                            <p>
                                <a href="/">首页</a> | 
                                <a href="/free-node/">免费节点</a> | 
                                <a href="/news/">新闻资讯</a> |
                                <a href="/about-us.htm">关于我们</a> |
                                <a href="/disclaimer.htm">免责申明</a> |
                                <a href="/privacy.htm">隐私申明</a> |
                                <a href="/sitemap.xml">网站地图</a>
                            </p>
                                <p>
                                    <a href="/">推荐免费VPN排名 订阅机场节点中文网</a> 版权所有 Powered by WordPress
                                </p>
                            </div>
                            <ul class="site-footer-bottom__menu list-unstyled">
                                <li><a href="#">Privacy Policy</a></li>
                                <li><a href="#">Terms of Condition</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <div class="mobile-nav__wrapper">
        <div class="mobile-nav__overlay mobile-nav__toggler"></div>
        <!-- /.mobile-nav__overlay -->
        <div class="mobile-nav__content">
            <span class="mobile-nav__close mobile-nav__toggler"></span>
            <div class="logo-box">
                <a href="/" aria-label="logo image">Clash Mihomo</a>
            </div>
            <!-- /.logo-box -->
            <div class="mobile-nav__container"></div>
            <!-- /.mobile-nav__container -->
            <div class="mobile-nav__top">
                <div class="mobile-nav__social">
                    <a href="#" class="fab fa-twitter"></a>
                    <a href="#" class="fab fa-facebook-square"></a>
                    <a href="#" class="fab fa-pinterest-p"></a>
                    <a href="#" class="fab fa-instagram"></a>
                </div><!-- /.mobile-nav__social -->
            </div><!-- /.mobile-nav__top -->
        </div>
        <!-- /.mobile-nav__content -->
    </div>
    <!-- /.mobile-nav__wrapper -->
    <div class="side-menu__block">
        <div class="side-menu__block-overlay custom-cursor__overlay side-menu__toggler">
            <div class="cursor"></div>
            <div class="cursor-follower"></div>
        </div><!-- /.side-menu__block-overlay -->
        <div class="side-menu__block-inner ">
            <p class="side-menu__block__text site-footer__copy-text">Copyright &copy; 2021.Company name All rights reserved.<a target="_blank" href="https://sc.chinaz.com/moban/">&#x7F51;&#x9875;&#x6A21;&#x677F;</a></p>
        </div><!-- /.side-menu__block-inner -->
    </div><!-- /.side-menu__block -->
    <a href="#" data-target="html" class="scroll-to-target scroll-to-top"><i class="fa fa-angle-up"></i></a>
    <script src="/assets/website/js/frontend/clashmihomo/jquery/jquery-3.5.1.min.js"></script>
    <script src="/assets/website/js/frontend/clashmihomo/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="/assets/website/js/frontend/clashmihomo/jarallax/jarallax.min.js"></script>
    <script src="/assets/website/js/frontend/clashmihomo/jquery-ajaxchimp/jquery.ajaxchimp.min.js"></script>
    <script src="/assets/website/js/frontend/clashmihomo/jquery-appear/jquery.appear.min.js"></script>
    <script src="/assets/website/js/frontend/clashmihomo/jquery-circle-progress/jquery.circle-progress.min.js"></script>
    <script src="/assets/website/js/frontend/clashmihomo/jquery-magnific-popup/jquery.magnific-popup.min.js"></script>
    <script src="/assets/website/js/frontend/clashmihomo/jquery-validate/jquery.validate.min.js"></script>
    <script src="/assets/website/js/frontend/clashmihomo/nouislider/nouislider.min.js"></script>
    <script src="/assets/website/js/frontend/clashmihomo/odometer/odometer.min.js"></script>
    <script src="/assets/website/js/frontend/clashmihomo/swiper/swiper.min.js"></script>
    <script src="/assets/website/js/frontend/clashmihomo/tiny-slider/tiny-slider.min.js"></script>
    <script src="/assets/website/js/frontend/clashmihomo/wnumb/wNumb.min.js"></script>
    <script src="/assets/website/js/frontend/clashmihomo/wow/wow.js"></script>
    <script src="/assets/website/js/frontend/clashmihomo/isotope/isotope.js"></script>
    <script src="/assets/website/js/frontend/clashmihomo/countdown/countdown.min.js"></script>
    <script src="/assets/website/js/frontend/clashmihomo/owl-carousel/owl.carousel.min.js"></script>
    <script src="/assets/website/js/frontend/clashmihomo/twentytwenty/twentytwenty.js"></script>
    <script src="/assets/website/js/frontend/clashmihomo/twentytwenty/jquery.event.move.js"></script>
    <script src="http://ditu.google.cn/maps/api/js?key=AIzaSyATY4Rxc8jNvDpsK8ZetC7JyN4PFVYGCGM"></script>
    <!-- template js -->
    <script src="/assets/website/js/frontend/clashmihomo/kitecx.js"></script>
    <script src="https://www.freeclashnode.com/assets/js/frontend/invite-url.js"></script><script src="/assets/website/js/frontend/G.js"></script>
</body>

</html>